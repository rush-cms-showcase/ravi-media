---
import Button from "@/components/ui/button.astro"
import { Icon } from "astro-icon/components"
import { getWhatsAppLink, whatsappMessages } from "@/utils/whatsapp"

const whatsappDiagnostico = getWhatsAppLink(whatsappMessages.diagnostico)
const whatsappContato = getWhatsAppLink(whatsappMessages.contato)
const whatsappAcompanhamento = getWhatsAppLink("Olá! Quero saber sobre acompanhamento mensal.")
---

<section id="upsell" class="py-20 bg-surface border-y border-white/5">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-2xl lg:text-3xl font-bold mb-4">
            Quer que isso melhore mês a mês?
        </h2>
        <p class="text-gray-400 max-w-2xl mx-auto mb-8">
            Após a entrega, existe a opção de acompanhamento com ajustes e
            otimização (copy, suporte básico, melhorias contínuas), para manter
            a geração de contatos ativa.
        </p>
        <a
            href={whatsappAcompanhamento}
            target="_blank"
            rel="noopener noreferrer"
            class="text-primary hover:text-white underline underline-offset-4 transition-colors"
        >
            Quero saber sobre acompanhamento mensal
        </a>
    </div>
</section>

<section id="faq" class="py-24 bg-black relative">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-3xl lg:text-4xl font-bold mb-4">Dúvidas comuns</h2>
        </div>

        <div class="max-w-3xl mx-auto space-y-4">
            {
                [
                    {
                        q: "Isso substitui um site completo?",
                        a: "Sim, para a maioria dos negócios locais. O foco é conversão e rapidez, evitando a complexidade de sites institucionais grandes.",
                    },
                    {
                        q: "O que eu preciso te mandar para começar?",
                        a: "Assim que iniciarmos, enviarei um formulário simples para coletar informações sobre seu serviço, diferenciais e contatos.",
                    },
                    {
                        q: "Posso pedir mudanças depois?",
                        a: "O projeto inclui uma rodada de revisão completa. Alterações posteriores podem ser feitas via pacote de manutenção ou orçamento pontual.",
                    },
                    {
                        q: "Quantas revisões estão inclusas?",
                        a: "Uma revisão completa antes da entrega final, garantindo que tudo esteja alinhado sem estender o prazo.",
                    },
                    {
                        q: "Em quanto tempo fica pronto?",
                        a: "De 5 a 7 dias úteis após o recebimento do material necessário.",
                    },
                    {
                        q: "Vocês fazem tráfego pago?",
                        a: "Nosso foco é a infraestrutura (a página). Podemos indicar parceiros de tráfego, mas o core da Ravi é a entrega do ativo digital.",
                    },
                ].map((item) => (
                    <details class="group bg-surface border border-white/5 rounded-xl overflow-hidden cursor-pointer transition-colors hover:border-white/10">
                        <summary class="flex items-center justify-between p-6 font-medium text-white list-none">
                            <span>{item.q}</span>
                            <Icon name="lucide:chevron-down" class="w-5 h-5 text-primary transition-transform group-open:rotate-180" />
                        </summary>
                        <div class="px-6 pb-6 text-gray-400 border-t border-white/5 pt-4">
                            <p>{item.a}</p>
                        </div>
                    </details>
                ))
            }
        </div>
    </div>
</section>

<section
    id="cta-final"
    class="py-24 bg-surface text-center relative overflow-hidden"
>
    <div class="absolute inset-0 bg-primary/5 blur-3xl pointer-events-none">
    </div>

    <div class="container mx-auto px-4 relative z-10">
        <h2 class="text-3xl lg:text-5xl font-bold mb-8 leading-tight">
            Se você quer mais mensagens no WhatsApp,<br />
            isso começa com uma página feita para converter.
        </h2>

        <div
            class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-8"
        >
            <Button
                href={whatsappDiagnostico}
                variant="primary"
                class="w-full sm:w-auto text-lg px-8 py-4"
            >
                Pedir diagnóstico rápido
            </Button>
            <Button
                href={whatsappContato}
                variant="secondary"
                class="w-full sm:w-auto text-lg px-8 py-4"
            >
                Chamar no WhatsApp
            </Button>
        </div>

        <p class="text-sm text-gray-500">
            Mensagem curta. Diagnóstico rápido. Proposta objetiva.
        </p>
    </div>
</section>
